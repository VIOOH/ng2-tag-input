{"version":3,"file":"tag-input.js","sourceRoot":"","sources":["../../../modules/components/tag-input.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n    Component,\r\n    forwardRef,\r\n    HostBinding,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    Renderer2,\r\n    ViewChild,\r\n    ViewChildren,\r\n    ContentChildren,\r\n    ContentChild,\r\n    OnInit,\r\n    TemplateRef,\r\n    QueryList\r\n} from '@angular/core';\r\n\r\nimport { AsyncValidatorFn, FormControl, NG_VALUE_ACCESSOR, ValidatorFn } from '@angular/forms';\r\n\r\nimport { TagInputAccessor, TagModel, listen } from '../core';\r\nimport * as constants from '../core/constants';\r\nimport { TagInputForm } from './tag-input-form';\r\nimport { TagInputDropdown } from './dropdown';\r\nimport { TagComponent } from './tag';\r\nimport { animations } from './animations';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport 'rxjs/add/observable/of';\r\nimport 'rxjs/add/operator/debounceTime';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/map';\r\n\r\n// angular universal hacks\r\n/* tslint:disable-next-line */\r\nconst DragEvent = (global as any).DragEvent;\r\n\r\nconst CUSTOM_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => TagInputComponent),\r\n    multi: true\r\n};\r\n\r\n/**\r\n * A component for entering a list of terms to be used with ngModel.\r\n */\r\n@Component({\r\n    selector: 'tag-input',\r\n    providers: [ CUSTOM_ACCESSOR ],\r\n    styleUrls: [ './tag-input.style.scss' ],\r\n    templateUrl: './tag-input.template.html',\r\n    animations: animations\r\n})\r\nexport class TagInputComponent extends TagInputAccessor implements OnInit {\r\n    /**\r\n     * @name separatorKeys\r\n     * @desc keyboard keys with which a user can separate items\r\n     * @type {Array}\r\n     */\r\n    @Input() public separatorKeys: string[] = [];\r\n\r\n    /**\r\n     * @name separatorKeyCodes\r\n     * @desc keyboard key codes with which a user can separate items\r\n     * @type {Array}\r\n     */\r\n    @Input() public separatorKeyCodes: number[] = [];\r\n\r\n    /**\r\n     * @name placeholder\r\n     * @desc the placeholder of the input text\r\n     * @type {string}\r\n     */\r\n    @Input() public placeholder: string = constants.PLACEHOLDER;\r\n\r\n    /**\r\n     * @name secondaryPlaceholder\r\n     * @desc placeholder to appear when the input is empty\r\n     * @type {string}\r\n     */\r\n    @Input() public secondaryPlaceholder: string = constants.SECONDARY_PLACEHOLDER;\r\n\r\n    /**\r\n     * @name maxItems\r\n     * @desc maximum number of items that can be added\r\n     * @type {number}\r\n     */\r\n    @Input() public maxItems: number;\r\n\r\n    /**\r\n     * @name readonly\r\n     * @desc if set to true, the user cannot remove/addItem new items\r\n     * @type {boolean}\r\n     */\r\n    @Input() public readonly: boolean;\r\n\r\n    /**\r\n     * @name transform\r\n     * @desc function passed to the component to transform the value of the items, or reject them instead\r\n     */\r\n    @Input() public transform: (item: string) => string = (item) => item;\r\n\r\n    /**\r\n     * @name validators\r\n     * @desc array of Validators that are used to validate the tag before it gets appended to the list\r\n     * @type {Validators[]}\r\n     */\r\n    @Input() public validators: ValidatorFn[] = [];\r\n\r\n    /**\r\n     * @name asyncValidators\r\n     * @desc array of AsyncValidator that are used to validate the tag before it gets appended to the list\r\n     * @type {Array}\r\n     */\r\n    @Input() public asyncValidators: AsyncValidatorFn[] = [];\r\n\r\n    /**\r\n    * - if set to true, it will only possible to add items from the autocomplete\r\n    * @name onlyFromAutocomplete\r\n    * @type {Boolean}\r\n    */\r\n    @Input() public onlyFromAutocomplete = false;\r\n\r\n\t/**\r\n     * @name errorMessages\r\n     * @type {Map<string, string>}\r\n     */\r\n    @Input() public errorMessages: {[key: string]: string} = {};\r\n\r\n    /**\r\n     * @name theme\r\n     * @type {string}\r\n     */\r\n    @Input() public theme: string;\r\n\r\n    /**\r\n     * @name onTextChangeDebounce\r\n     * @type {number}\r\n     */\r\n    @Input() public onTextChangeDebounce = 250;\r\n\r\n    /**\r\n     * - custom id assigned to the input\r\n     * @name id\r\n     */\r\n    @Input() public inputId: string;\r\n\r\n    /**\r\n     * - custom class assigned to the input\r\n     */\r\n    @Input() public inputClass: string;\r\n\r\n    /**\r\n     * - option to clear text input when the form is blurred\r\n     * @name clearOnBlur\r\n     */\r\n    @Input() public clearOnBlur: string;\r\n\r\n    /**\r\n     * - hideForm\r\n     * @name clearOnBlur\r\n     */\r\n    @Input() public hideForm: string;\r\n\r\n    /**\r\n     * @name addOnBlur\r\n     */\r\n    @Input() public addOnBlur: boolean;\r\n\r\n    /**\r\n     * @name addOnPaste\r\n     */\r\n    @Input() public addOnPaste: boolean;\r\n\r\n    /**\r\n     * - pattern used with the native method split() to separate patterns in the string pasted\r\n     * @name pasteSplitPattern\r\n     */\r\n    @Input() public pasteSplitPattern = ',';\r\n\r\n    /**\r\n     * @name blinkIfDupe\r\n     * @type {boolean}\r\n     */\r\n    @Input() public blinkIfDupe = true;\r\n\r\n    /**\r\n     * @name removable\r\n     * @type {boolean}\r\n     */\r\n    @Input() public removable = true;\r\n\r\n    /**\r\n     * @name editable\r\n     * @type {boolean}\r\n     */\r\n    @Input() public editable: boolean = undefined;\r\n\r\n    /**\r\n     * @name allowDupes\r\n     * @type {boolean}\r\n     */\r\n    @Input() public allowDupes = false;\r\n\r\n    /**\r\n     * @description if set to true, the newly added tags will be added as strings, and not objects\r\n     * @name modelAsStrings\r\n     * @type {boolean}\r\n     */\r\n    @Input() public modelAsStrings = false;\r\n\r\n    /**\r\n     * @name trimTags\r\n     * @type {boolean}\r\n     */\r\n    @Input() public trimTags = true;\r\n\r\n    /**\r\n     * @name inputText\r\n     */\r\n    @Input() public get inputText(): string {\r\n        return this.inputTextValue;\r\n    }\r\n\r\n    /**\r\n     * @name ripple\r\n     * @type {boolean}\r\n     */\r\n    @Input() public ripple = true;\r\n\r\n    /**\r\n     * @name tabindex\r\n     * @desc pass through the specified tabindex to the input\r\n     * @type {string}\r\n     */\r\n    @Input() public tabindex: string = undefined;\r\n\r\n    /**\r\n     * @name disabled\r\n     * @type {boolean}\r\n     */\r\n    @Input() public disabled = undefined;\r\n\r\n    /**\r\n     * @name dragZone\r\n     * @type {string}\r\n     */\r\n    @Input() public dragZone: string = undefined;\r\n\r\n    /**\r\n     * @name onRemoving\r\n     * @type {() => Observable<void>}\r\n     */\r\n    @Input() public onRemoving: (tag: TagModel) => Observable<TagModel>;\r\n\r\n    /**\r\n     * @name onAdding\r\n     * @type {() => Observable<void>}\r\n     */\r\n    @Input() public onAdding: (tag: TagModel) => Observable<TagModel>;\r\n\r\n    /**\r\n     * @name onAdd\r\n     * @desc event emitted when adding a new item\r\n     * @type {EventEmitter<string>}\r\n     */\r\n    @Output() public onAdd = new EventEmitter<TagModel>();\r\n\r\n    /**\r\n     * @name onRemove\r\n     * @desc event emitted when removing an existing item\r\n     * @type {EventEmitter<string>}\r\n     */\r\n    @Output() public onRemove = new EventEmitter<TagModel>();\r\n\r\n    /**\r\n     * @name onSelect\r\n     * @desc event emitted when selecting an item\r\n     * @type {EventEmitter<string>}\r\n     */\r\n    @Output() public onSelect = new EventEmitter<TagModel>();\r\n\r\n    /**\r\n     * @name onFocus\r\n     * @desc event emitted when the input is focused\r\n     * @type {EventEmitter<string>}\r\n     */\r\n    @Output() public onFocus = new EventEmitter<string>();\r\n\r\n    /**\r\n     * @name onFocus\r\n     * @desc event emitted when the input is blurred\r\n     * @type {EventEmitter<string>}\r\n     */\r\n    @Output() public onBlur = new EventEmitter<string>();\r\n\r\n    /**\r\n     * @name onTextChange\r\n     * @desc event emitted when the input value changes\r\n     * @type {EventEmitter<string>}\r\n     */\r\n    @Output() public onTextChange = new EventEmitter<TagModel>();\r\n\r\n    /**\r\n     * - output triggered when text is pasted in the form\r\n     * @name onPaste\r\n     * @type {EventEmitter<TagModel>}\r\n     */\r\n    @Output() public onPaste = new EventEmitter<string>();\r\n\r\n    /**\r\n     * - output triggered when tag entered is not valid\r\n     * @name onValidationError\r\n     * @type {EventEmitter<string>}\r\n     */\r\n    @Output() public onValidationError = new EventEmitter<TagModel>();\r\n\r\n    /**\r\n     * - output triggered when tag is edited\r\n     * @name onTagEdited\r\n     * @type {EventEmitter<TagModel>}\r\n     */\r\n    @Output() public onTagEdited = new EventEmitter<TagModel>();\r\n\r\n    /**\r\n     * @name dropdown\r\n     */\r\n    @ContentChild(TagInputDropdown) public dropdown: TagInputDropdown;\r\n\r\n    /**\r\n     * @name template\r\n     * @desc reference to the template if provided by the user\r\n     * @type {TemplateRef}\r\n     */\r\n    @ContentChildren(TemplateRef, {descendants: false}) public templates: QueryList<TemplateRef<any>>;\r\n\r\n\t/**\r\n     * @name inputForm\r\n     * @type {TagInputForm}\r\n     */\r\n    @ViewChild(TagInputForm) public inputForm: TagInputForm;\r\n\r\n    /**\r\n     * @name selectedTag\r\n     * @desc reference to the current selected tag\r\n     * @type {String}\r\n     */\r\n    public selectedTag: TagModel;\r\n\r\n    /**\r\n     * @name isLoading\r\n     * @type {boolean}\r\n     */\r\n    public isLoading = false;\r\n\r\n    /**\r\n     * @name isDropping\r\n     * @type {boolean}\r\n     */\r\n    public isDropping = false;\r\n\r\n    /**\r\n     * @name inputText\r\n     * @param text\r\n     */\r\n    public set inputText(text: string) {\r\n        this.inputTextValue = text;\r\n        this.inputTextChange.emit(text);\r\n    }\r\n\r\n    /**\r\n     * @name tags\r\n     * @desc list of Element items\r\n     */\r\n    @ViewChildren(TagComponent) public tags: QueryList<TagComponent>;\r\n\r\n    /**\r\n     * @name listeners\r\n     * @desc array of events that get fired using @fireEvents\r\n     * @type []\r\n     */\r\n    private listeners = {\r\n        [constants.KEYDOWN]: <{(fun): any}[]>[],\r\n        [constants.KEYUP]: <{(fun): any}[]>[],\r\n        change: <{(fun): any}[]>[]\r\n    };\r\n\r\n    /**\r\n     * @description emitter for the 2-way data binding inputText value\r\n     * @name inputTextChange\r\n     * @type {EventEmitter}\r\n     */\r\n    @Output() public inputTextChange: EventEmitter<string> = new EventEmitter();\r\n\r\n    /**\r\n     * @description private variable to bind get/set\r\n     * @name inputTextValue\r\n     * @type {string}\r\n     */\r\n    public inputTextValue = '';\r\n\r\n    /**\r\n     * @desc removes the tab index if it is set - it will be passed through to the input\r\n     * @name tabindexAttr\r\n     * @type {string}\r\n     */\r\n    @HostBinding('attr.tabindex')\r\n    public get tabindexAttr(): string {\r\n        return this.tabindex !== undefined ? '-1' : undefined;\r\n    }\r\n\r\n    constructor(private renderer: Renderer2) {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * @name removeItem\r\n     * @desc removes an item from the array of the model\r\n     * @param tag {TagModel}\r\n     * @param index {number}\r\n     */\r\n    public removeItem(tag: TagModel, index: number): void {\r\n        this.items = this.getItemsWithout(index);\r\n\r\n        // if the removed tag was selected, set it as undefined\r\n        if (this.selectedTag === tag) {\r\n            this.selectItem(undefined, false);\r\n        }\r\n\r\n        // focus input\r\n        this.focus(true, false);\r\n\r\n        // emit remove event\r\n        this.onRemove.emit(tag);\r\n    }\r\n\r\n    /**\r\n     * @name onRemoveRequested\r\n     * @param tag\r\n     * @param index\r\n     */\r\n    public onRemoveRequested(tag: TagModel, index: number): void {\r\n        if (this.onRemoving) {\r\n            this.onRemoving(tag)\r\n                .subscribe((model: TagModel) => {\r\n                    this.removeItem(model, index);\r\n                });\r\n        } else {\r\n            this.removeItem(tag, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @name onAddingRequested\r\n     * @param isFromAutocomplete\r\n     * @param tag\r\n     */\r\n    public onAddingRequested(isFromAutocomplete?: boolean, tag?: TagModel): void {\r\n        if (this.onAdding) {\r\n            this.onAdding(tag)\r\n                .subscribe((model: TagModel) => {\r\n                    this.addItem(isFromAutocomplete, model);\r\n                });\r\n        } else {\r\n            this.addItem(isFromAutocomplete, tag);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @name addItem\r\n     * @desc adds the current text model to the items array\r\n     * @param fromAutocomplete\r\n     * @param item\r\n     */\r\n    public addItem(fromAutocomplete = false, item: TagModel = this.formValue): void {\r\n        /**\r\n         * @name reset\r\n         */\r\n        const reset = (): void => {\r\n            // reset control and focus input\r\n            this.setInputValue('');\r\n\r\n            // focus input\r\n            this.focus(true, false);\r\n        };\r\n\r\n        /**\r\n         * @name validationFilter\r\n         * @param tag\r\n         * @return {boolean}\r\n         */\r\n        const validationFilter = (tag: TagModel): boolean => {\r\n            const isValid = this.isTagValid(tag, fromAutocomplete);\r\n\r\n            if (!isValid) {\r\n                this.onValidationError.emit(tag);\r\n            }\r\n\r\n            return isValid;\r\n        };\r\n\r\n        /**\r\n         * @name appendItem\r\n         * @param tag\r\n         */\r\n        const appendItem = (tag: TagModel): void => {\r\n            this.appendTag(tag);\r\n\r\n            // emit event\r\n            this.onAdd.emit(tag);\r\n        };\r\n\r\n        Observable\r\n            .of(this.getItemDisplay(item))\r\n            .map(display => this.setInputValue(display))\r\n            .filter(display => this.inputForm.form.valid && !!display)\r\n            .map((display: string) => this.createTag(fromAutocomplete ? item : display))\r\n            .filter(validationFilter)\r\n            .subscribe(appendItem, undefined, reset);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param tag\r\n     * @param isFromAutocomplete\r\n     */\r\n    public isTagValid(tag: TagModel, fromAutocomplete = false): boolean {\r\n        const selectedItem = this.dropdown ? this.dropdown.selectedItem : undefined;\r\n\r\n        if (selectedItem && !fromAutocomplete) {\r\n            return;\r\n        }\r\n\r\n        const dupe = this.findDupe(tag, fromAutocomplete);\r\n\r\n        // if so, give a visual cue and return false\r\n        if (!this.allowDupes && dupe && this.blinkIfDupe) {\r\n            const item = this.tags.find(_tag => {\r\n                return this.getItemValue(_tag.model) === this.getItemValue(dupe);\r\n            });\r\n\r\n            if (!!item) {\r\n                item.blink();\r\n            }\r\n        }\r\n\r\n        const isFromAutocomplete = fromAutocomplete && this.onlyFromAutocomplete;\r\n\r\n        const assertions = [\r\n            // 1. there must be no dupe OR dupes are allowed\r\n            !dupe || this.allowDupes === true,\r\n\r\n            // 2. check max items has not been reached\r\n            this.maxItemsReached === false,\r\n\r\n            // 3. check item comes from autocomplete or onlyFromAutocomplete is false\r\n            ((isFromAutocomplete) || this.onlyFromAutocomplete === false)\r\n        ];\r\n\r\n        return assertions.filter(item => item).length === assertions.length;\r\n    }\r\n\r\n    /**\r\n     * @name appendTag\r\n     * @param tag {TagModel}\r\n     */\r\n    public appendTag = (tag: TagModel): void => {\r\n        this.items = [\r\n            ...this.items,\r\n            this.modelAsStrings ? tag[this.identifyBy] : tag\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * @name createTag\r\n     * @param model\r\n     * @returns {{}}\r\n     */\r\n    public createTag(model: TagModel): TagModel {\r\n        const trim = (val: TagModel, key: string): TagModel => {\r\n            return typeof val === 'string' ? val.trim() : val[key];\r\n        };\r\n\r\n        return {\r\n            ...typeof model !== 'string' ? model : {},\r\n            [this.displayBy]: this.trimTags ? trim(model, this.displayBy) : model,\r\n            [this.identifyBy]: this.trimTags ? trim(model, this.identifyBy) : model\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @name selectItem\r\n     * @desc selects item passed as parameter as the selected tag\r\n     * @param item\r\n     * @param emit\r\n     */\r\n    public selectItem(item: TagModel, emit = true): void {\r\n        if (this.readonly) {\r\n            return;\r\n        }\r\n\r\n        this.selectedTag = item;\r\n\r\n        if (emit) {\r\n            this.onSelect.emit(item);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @name fireEvents\r\n     * @desc goes through the list of the events for a given eventName, and fires each of them\r\n     * @param eventName\r\n     * @param $event\r\n     */\r\n    public fireEvents(eventName: string, $event?): void {\r\n        this.listeners[eventName]\r\n            .forEach(listener => listener.call(this, $event));\r\n    }\r\n\r\n    /**\r\n     * @name handleKeydown\r\n     * @desc handles action when the user hits a keyboard key\r\n     * @param data\r\n     */\r\n    public handleKeydown(data: any): void {\r\n        const event = data.event;\r\n        const key = event.keyCode || event.which;\r\n\r\n        switch (constants.KEY_PRESS_ACTIONS[key]) {\r\n            case constants.ACTIONS_KEYS.DELETE:\r\n                if (this.selectedTag && this.removable) {\r\n                    const index = this.items.indexOf(this.selectedTag);\r\n                    this.removeItem(this.selectedTag, index);\r\n                }\r\n                break;\r\n            case constants.ACTIONS_KEYS.SWITCH_PREV:\r\n                this.switchPrev(data.model);\r\n                break;\r\n            case constants.ACTIONS_KEYS.SWITCH_NEXT:\r\n                this.switchNext(data.model);\r\n                break;\r\n            case constants.ACTIONS_KEYS.TAB:\r\n                this.switchNext(data.model);\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n\r\n        // prevent default behaviour\r\n        event.preventDefault();\r\n    }\r\n\r\n    /**\r\n     * @name seyInputValue\r\n     * @param value\r\n     * @returns {string}\r\n     */\r\n    public setInputValue(value: string): string {\r\n        const item = value ? this.transform(value) : '';\r\n\r\n        // update form value with the transformed item\r\n        this.getControl().setValue(item);\r\n\r\n        return item;\r\n    }\r\n\r\n    /**\r\n     * @name getControl\r\n     * @returns {FormControl}\r\n     */\r\n    private getControl(): FormControl {\r\n        return <FormControl>this.inputForm.value;\r\n    }\r\n\r\n\t/**\r\n     * @name focus\r\n     * @param applyFocus\r\n     * @param displayAutocomplete\r\n     */\r\n    public focus(applyFocus = false, displayAutocomplete = false): void {\r\n        if (this.readonly) {\r\n            return;\r\n        }\r\n\r\n        this.selectItem(undefined, false);\r\n\r\n        if (applyFocus) {\r\n            this.inputForm.focus();\r\n            this.onFocus.emit(this.formValue);\r\n        }\r\n\r\n        if (displayAutocomplete && this.dropdown) {\r\n            this.dropdown.show();\r\n        }\r\n    }\r\n\r\n\t/**\r\n     * @name blur\r\n     */\r\n    public blur(): void {\r\n        this.onTouched();\r\n\r\n        this.onBlur.emit(this.formValue);\r\n    }\r\n\r\n    /**\r\n     * @name hasErrors\r\n     * @returns {boolean}\r\n     */\r\n    public hasErrors(): boolean {\r\n        return this.inputForm && this.inputForm.hasErrors();\r\n    }\r\n\r\n    /**\r\n     * @name isInputFocused\r\n     * @returns {boolean}\r\n     */\r\n    public isInputFocused(): boolean {\r\n        return this.inputForm && this.inputForm.isInputFocused();\r\n    }\r\n\r\n    /**\r\n     * - this is the one way I found to tell if the template has been passed and it is not\r\n     * the template for the menu item\r\n     * @name hasCustomTemplate\r\n     */\r\n    public hasCustomTemplate(): boolean {\r\n        const templates = this.templates;\r\n        const template = templates ? templates.first : undefined;\r\n        const menuTemplate = this.dropdown && this.dropdown.templates ?\r\n            this.dropdown.templates.first : undefined;\r\n\r\n        return template && template !== menuTemplate;\r\n    }\r\n\r\n    /**\r\n     * @name switchNext\r\n     * @param item { TagModel }\r\n     */\r\n    public switchNext(item: TagModel): void {\r\n        if (this.tags.last.model === item) {\r\n            this.focus(true);\r\n            return;\r\n        }\r\n\r\n        const tags = this.tags.toArray();\r\n        const tagIndex = tags.findIndex(tag => tag.model === item);\r\n        const tag = tags[tagIndex + 1];\r\n\r\n        tag.select.call(tag);\r\n    }\r\n\r\n    /**\r\n     * @name switchPrev\r\n     * @param item { TagModel }\r\n     */\r\n    public switchPrev(item: TagModel): void {\r\n        if (this.tags.first.model !== item) {\r\n            const tags = this.tags.toArray();\r\n            const tagIndex = tags.findIndex(tag => tag.model === item);\r\n            const tag = tags[tagIndex - 1];\r\n\r\n            tag.select.call(tag);\r\n        }\r\n    }\r\n\r\n\t/**\r\n     * @name maxItemsReached\r\n     * @returns {boolean}\r\n     */\r\n    public get maxItemsReached(): boolean {\r\n        return this.maxItems !== undefined &&\r\n            this.items.length >= this.maxItems;\r\n    }\r\n\r\n    /**\r\n     * @name formValue\r\n     * @return {any}\r\n     */\r\n    public get formValue(): string {\r\n        return this.inputForm.value.value;\r\n    }\r\n\r\n    /**\r\n     * @name ngOnInit\r\n     */\r\n    public ngOnInit(): void {\r\n        // if the number of items specified in the model is > of the value of maxItems\r\n        // degrade gracefully and let the max number of items to be the number of items in the model\r\n        // though, warn the user.\r\n        const hasReachedMaxItems = this.maxItems !== undefined &&\r\n            this.items &&\r\n            this.items.length > this.maxItems;\r\n\r\n        if (hasReachedMaxItems) {\r\n            this.maxItems = this.items.length;\r\n            console.warn(constants.MAX_ITEMS_WARNING);\r\n        }\r\n    }\r\n\r\n    /**3\r\n     * @name onDragStarted\r\n     * @param event\r\n     * @param index\r\n     */\r\n    public onDragStarted(event: DragEvent, index: number): void {\r\n        event.stopPropagation();\r\n\r\n        const draggedElement: TagModel = this.items[index];\r\n        const storedElement = {zone: this.dragZone, value: draggedElement};\r\n\r\n        event.dataTransfer.setData(constants.DRAG_AND_DROP_KEY, JSON.stringify(storedElement));\r\n\r\n        this.items = this.getItemsWithout(index);\r\n\r\n        this.onRemove.emit(draggedElement);\r\n    }\r\n\r\n    /**\r\n     * @name onDragOver\r\n     * @param event\r\n     */\r\n    public onDragOver(event: DragEvent): void {\r\n        this.isDropping = true;\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    /**\r\n     * @name onDragEnd\r\n     */\r\n    public onDragEnd(): void {\r\n        this.isDropping = false;\r\n    }\r\n\r\n    /**\r\n     * @name onTagDropped\r\n     * @param event\r\n     * @param index\r\n     */\r\n    public onTagDropped(event: DragEvent, index: number): void {\r\n        this.onDragEnd();\r\n\r\n        const data = event.dataTransfer.getData(constants.DRAG_AND_DROP_KEY);\r\n        const droppedElement = JSON.parse(data);\r\n\r\n        if (droppedElement.zone !== this.dragZone) {\r\n            return;\r\n        }\r\n\r\n        const tag: TagModel = this.createTag(droppedElement.value);\r\n\r\n        if (index === undefined) {\r\n            this.appendTag(tag);\r\n        } else {\r\n            const items = this.items;\r\n            this.items = [...items.slice(0, index), tag, ...items.slice(index, items.length)];\r\n        }\r\n\r\n        this.onAdd.emit(tag);\r\n\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    }\r\n\r\n    /**\r\n     * @name ngAfterViewInit\r\n     */\r\n    public ngAfterViewInit(): void {\r\n        // set up listeners\r\n\r\n        this.setUpKeypressListeners();\r\n        this.setupSeparatorKeysListener();\r\n        this.setUpInputKeydownListeners();\r\n\r\n        if (this.onTextChange.observers.length) {\r\n            this.setUpTextChangeSubscriber();\r\n        }\r\n\r\n        // if clear on blur is set to true, subscribe to the event and clear the text's form\r\n        if (this.clearOnBlur || this.addOnBlur) {\r\n            this.setUpOnBlurSubscriber();\r\n        }\r\n\r\n        // if addOnPaste is set to true, register the handler and add items\r\n        if (this.addOnPaste) {\r\n            this.setUpOnPasteListener();\r\n        }\r\n\r\n        // if hideForm is set to true, remove the input\r\n        if (this.hideForm) {\r\n            this.inputForm.destroy();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @name onTagBlurred\r\n     * @param changedElement {TagModel}\r\n     * @param index {number}\r\n     */\r\n    public onTagBlurred(changedElement: TagModel, index: number): void {\r\n        this.items[index] = changedElement;\r\n        this.blur();\r\n    }\r\n\r\n    /**\r\n     * @name trackBy\r\n     * @param item\r\n     * @returns {string}\r\n     */\r\n    public trackBy(item: TagModel): string {\r\n        return item[this.identifyBy];\r\n    }\r\n\r\n    /**\r\n     * @name setupSeparatorKeysListener\r\n     */\r\n    private setupSeparatorKeysListener(): void {\r\n        const useSeparatorKeys = this.separatorKeyCodes.length > 0 || this.separatorKeys.length > 0;\r\n\r\n        listen.call(this, constants.KEYDOWN, ($event) => {\r\n            const hasKeyCode = this.separatorKeyCodes.indexOf($event.keyCode) >= 0;\r\n            const hasKey = this.separatorKeys.indexOf($event.key) >= 0;\r\n\r\n            if (hasKeyCode || hasKey) {\r\n                $event.preventDefault();\r\n                this.onAddingRequested();\r\n            }\r\n\r\n        }, useSeparatorKeys);\r\n    }\r\n\r\n    /**\r\n     * @name setUpKeypressListeners\r\n     */\r\n    private setUpKeypressListeners(): void {\r\n        // setting up the keypress listeners\r\n        listen.call(this, constants.KEYDOWN, ($event) => {\r\n            const isCorrectKey = $event.keyCode === 37 || $event.keyCode === 8;\r\n\r\n            if (isCorrectKey &&\r\n                !this.formValue &&\r\n                this.items.length) {\r\n                    this.tags.last.select.call(this.tags.last);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @name setUpKeydownListeners\r\n     */\r\n    private setUpInputKeydownListeners(): void {\r\n        this.inputForm.onKeydown.subscribe(event => {\r\n            this.fireEvents('keydown', event);\r\n\r\n            if (event.key === 'Backspace' && this.formValue === '') {\r\n                event.preventDefault();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @name setUpOnPasteListener\r\n     */\r\n    private setUpOnPasteListener(): void {\r\n        const input = this.inputForm.input.nativeElement;\r\n\r\n        // attach listener to input\r\n        this.renderer.listen(input, 'paste', this.onPasteCallback.bind(this));\r\n    }\r\n\r\n    /**\r\n     * @name setUpTextChangeSubscriber\r\n     */\r\n    private setUpTextChangeSubscriber(): void {\r\n        this.inputForm.form.valueChanges\r\n            .debounceTime(this.onTextChangeDebounce)\r\n            .subscribe(() => this.onTextChange.emit(this.formValue));\r\n    }\r\n\r\n    /**\r\n     * @name setUpOnBlurSubscriber\r\n     */\r\n    private setUpOnBlurSubscriber(): void {\r\n        const filterFn = (): boolean => {\r\n            return !(this.dropdown && this.dropdown.isVisible) && !!this.formValue;\r\n        };\r\n\r\n        this.inputForm\r\n            .onBlur\r\n            .filter(filterFn)\r\n            .subscribe(() => {\r\n                if (this.addOnBlur) {\r\n                    this.onAddingRequested();\r\n                }\r\n\r\n                this.setInputValue('');\r\n            });\r\n    }\r\n\r\n    /**\r\n     * @name findDupe\r\n     * @param tag\r\n     * @param isFromAutocomplete\r\n     * @return {undefined|TagModel}\r\n     */\r\n    private findDupe(tag: TagModel, isFromAutocomplete: boolean): TagModel {\r\n        const identifyBy = isFromAutocomplete ? this.dropdown.identifyBy : this.identifyBy;\r\n        return this.items\r\n            .find((item: TagModel) => {\r\n                return this.getItemValue(item) === tag[identifyBy];\r\n            });\r\n    }\r\n\r\n    /**\r\n     * @name onPasteCallback\r\n     * @param data\r\n     */\r\n    private onPasteCallback(data: ClipboardEvent): void {\r\n        const text = data.clipboardData.getData('text/plain');\r\n\r\n        text.split(this.pasteSplitPattern)\r\n            .map(item => this.createTag(item))\r\n            .forEach(item => this.onAddingRequested(false, item));\r\n\r\n        this.onPaste.emit(text);\r\n\r\n        setTimeout(() => this.setInputValue(''), 0);\r\n    }\r\n}\r\n"]}